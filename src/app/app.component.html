<!-- Loading all svg icons that will be used. -->
<svg class="hidden">
  <defs>
    <symbol id="icon-nodata" viewBox="0 0 24 24">
      <title>no data</title>
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"/>
    </symbol>
    <symbol id="icon-spcarrow" viewBox="0 0 24 24">
      <title>special arrow</title>
      <path fill="none" d="M0 0h24v24H0V0z"/>
      <path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z"/>
    </symbol>
    <symbol id="icon-drop" viewBox="0 0 24 24">
      <title>drop</title>
      <path d="M12,21c-3.6,0-6.6-3-6.6-6.6C5.4,11,10.8,4,11.4,3.2C11.6,3.1,11.8,3,12,3s0.4,0.1,0.6,0.3c0.6,0.8,6.1,7.8,6.1,11.2C18.6,18.1,15.6,21,12,21zM12,4.8c-1.8,2.4-5.2,7.4-5.2,9.6c0,2.9,2.3,5.2,5.2,5.2s5.2-2.3,5.2-5.2C17.2,12.2,13.8,7.3,12,4.8z"/><path d="M12,18.2c-0.4,0-0.7-0.3-0.7-0.7s0.3-0.7,0.7-0.7c1.3,0,2.4-1.1,2.4-2.4c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7C15.8,16.5,14.1,18.2,12,18.2z"/>
    </symbol>
    <symbol id="icon-clock" viewBox="0 0 24 24">
      <title>clock</title>
      <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
    </symbol>
    <symbol id="icon-thermometer" viewBox="0 0 24 24">
      <title>thermometer</title>
      <path d="M12.7,16.3V9.6h-1.5v6.7c-0.9,0.3-1.5,1.1-1.5,2.1c0,1.2,1,2.2,2.2,2.2c1.2,0,2.2-1,2.2-2.2	C14.2,17.4,13.6,16.6,12.7,16.3z M12,19.1c-0.4,0-0.7-0.3-0.7-0.7c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7	C12.7,18.8,12.4,19.1,12,19.1z"/><path d="M15.2,15V4.2C15.2,2.4,13.8,1,12,1S8.8,2.4,8.8,4.2V15c-0.9,0.9-1.5,2.1-1.5,3.4c0,2.6,2.1,4.7,4.7,4.7s4.7-2.1,4.7-4.7C16.7,17.1,16.1,15.9,15.2,15z M12,21.5c-1.8,0-3.2-1.4-3.2-3.2c0-1,0.4-1.9,1.2-2.5l0.3-0.2V4.2c0-0.9,0.8-1.7,1.7-1.7c0.9,0,1.7,0.8,1.7,1.7v11.5l0.3,0.2c0.8,0.6,1.2,1.5,1.2,2.5C15.2,20.1,13.8,21.5,12,21.5z"/>
    </symbol>
    <symbol id="icon-direction" viewBox="0 0 100 100">
      <title>direction</title>
      <path d="M51.1,16c-0.5,0-1,0.3-1.2,0.8L25.6,82.3c-0.2,0.5,0,1.1,0.4,1.5c0.4,0.3,1.1,0.4,1.5,0L51.1,67l21.3,16.7c0.4,0.3,1.1,0.4,1.5,0c0.1,0,0.1-0.1,0.2-0.1c0.3-0.3,0.5-0.8,0.3-1.3L52.3,16.8C52.1,16.3,51.7,16,51.1,16z"/>
    </symbol>

    <symbol id="state-sunny" viewBox="0 0 80 80">
      <title>sunny</title>
      <path d="M25,20.31A13.12,13.12,0,1,1,11.88,33.44,13.13,13.13,0,0,1,25,20.31Z" fill="#FFEB3B"/>
    </symbol>
    <symbol id="state-clearnight" viewBox="0 0 80 80">
      <title>clearnight</title>
      <path d="M32.35,39.08A11,11,0,0,1,21.27,28.24a10.72,10.72,0,0,1,4-8.33,13.33,13.33,0,1,0,.26,26.65,13.62,13.62,0,0,0,13-9.33A11.23,11.23,0,0,1,32.35,39.08Z" fill="#435965"/>
    </symbol>
    <symbol id="state-cloudy" viewBox="0 0 80 80">
      <title>cloudy</title>
      <path d="M60.38,35.59a14.06,14.06,0,0,0-25.48-5.34,5.55,5.55,0,0,0-2.41-.56,5.62,5.62,0,0,0-5.63,5.63v0l-.94,0A10.31,10.31,0,0,0,15.63,45.62c0,.35,0,.69.05,1a6.55,6.55,0,0,0,.89,13H57.81a12.19,12.19,0,0,0,2.57-24.1Z" fill="#e1e1e1"/>
    </symbol>
    <symbol id="state-partlycloudy" viewBox="0 0 80 80">
      <title>partly cloudy</title>
      <path d="M25,20.31A13.12,13.12,0,1,1,11.88,33.44,13.13,13.13,0,0,1,25,20.31Z" fill="#FFEB3B"/><path d="M60.38,35.59a14.06,14.06,0,0,0-25.48-5.34,5.55,5.55,0,0,0-2.41-.56,5.62,5.62,0,0,0-5.63,5.63v0l-.94,0A10.31,10.31,0,0,0,15.63,45.62c0,.35,0,.69.05,1a6.55,6.55,0,0,0,.89,13H57.81a12.19,12.19,0,0,0,2.57-24.1Z" fill="#fff"/>
    </symbol>
    <symbol id="state-partlycloudynight" viewBox="0 0 80 80">
      <title>partlycloudynight</title>
      <path d="M32.35,39.08A11,11,0,0,1,21.27,28.24a10.72,10.72,0,0,1,4-8.33,13.33,13.33,0,1,0,.26,26.65,13.62,13.62,0,0,0,13-9.33A11.23,11.23,0,0,1,32.35,39.08Z" fill="#435965"/><path d="M60.38,35.59a14.06,14.06,0,0,0-25.48-5.34,5.55,5.55,0,0,0-2.41-.56,5.62,5.62,0,0,0-5.63,5.63v0l-.94,0A10.31,10.31,0,0,0,15.63,45.62c0,.35,0,.69.05,1a6.55,6.55,0,0,0,.89,13H57.81a12.19,12.19,0,0,0,2.57-24.1Z" fill="#e4e6e6"/>
    </symbol>
    <symbol id="state-rain" viewBox="0 0 80 80">
      <title>rain</title>
      <path d="M60.38,35.59a14.06,14.06,0,0,0-25.48-5.34,5.55,5.55,0,0,0-2.41-.56,5.62,5.62,0,0,0-5.63,5.63v0l-.94,0A10.31,10.31,0,0,0,15.63,45.62c0,.35,0,.69.05,1a6.55,6.55,0,0,0,.89,13H57.81a12.19,12.19,0,0,0,2.57-24.1Z" fill="#a0b0b0"/><path d="M35.36,54.71A1,1,0,0,0,34,55.1l-2.06,3.71a1,1,0,0,0,1.75,1l2.06-3.71A1,1,0,0,0,35.36,54.71Zm2.75-7-2.06,3.71a1,1,0,0,0,1.75,1l2.06-3.71a1,1,0,0,0-1.75-1Zm.69,15.41a1,1,0,0,0-1.36.39l-2.06,3.71a1,1,0,0,0,1.75,1l2.06-3.71A1,1,0,0,0,38.8,63.08Zm4.11-7.42a1,1,0,0,0-1.36.39L39.5,59.76a1,1,0,0,0,1.75,1L43.31,57A1,1,0,0,0,42.92,55.66ZM27.8,53.75a1,1,0,0,0-1.36.39l-2.06,3.71a1,1,0,0,0,1.75,1l2.06-3.71A1,1,0,0,0,27.8,53.75Zm-4.11,7.42a1,1,0,0,0-1.36.39l-2.06,3.71a1,1,0,0,0,1.75,1l2.06-3.71A1,1,0,0,0,23.69,61.17Zm7.56,1a1,1,0,0,0-1.36.39l-2.06,3.71a1,1,0,0,0,1.75,1l2.06-3.71A1,1,0,0,0,31.25,62.13Zm-4.12,7.42a1,1,0,0,0-1.36.39l-2.06,3.71a1,1,0,0,0,1.75,1l2.06-3.71A1,1,0,0,0,27.13,69.55Zm4.79-23.22a1,1,0,0,0-1.36.39L28.5,50.43a1,1,0,0,0,1.75,1l2.06-3.71A1,1,0,0,0,31.92,46.33Z" fill="#576a7e"/>
    </symbol>
    <symbol id="state-thunders" viewBox="0 0 80 80">
      <title>thunders</title>
      <path d="M60.38,35.59a14.06,14.06,0,0,0-25.48-5.34,5.55,5.55,0,0,0-2.41-.56,5.62,5.62,0,0,0-5.63,5.63v0l-.94,0A10.31,10.31,0,0,0,15.63,45.62c0,.35,0,.69.05,1a6.55,6.55,0,0,0,.89,13H57.81a12.19,12.19,0,0,0,2.57-24.1Z" fill="#7a90a5"/><path d="M45.67,56.26l-7.69,0L42.6,45.88H31.73L25.5,63h7.9L30.14,73.36Z" fill="#f0f0f0"/>
    </symbol>
  </defs>
</svg>

<!-- Main container of the view of the whole interface. -->
<main>

  <!-- Container of the forecast information and visuals. -->
  <div class="content content--graph">

    <!-- Display when there isn't data to show. -->
    <div *ngIf="!cityWeather" class="nodata-wrap">
      <h2>There isn't forecast info to show...</h2>
      <h1>
        <span>
          <svg class="icon icon--spcarrow">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-spcarrow"></use>
          </svg>
        </span>Please search a city
      </h1>
      <svg class="icon icon--nodata">
        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-nodata"></use>
      </svg>
    </div>

    <!-- Section where the forecast information and visuals will be shown. -->
    <div class="slices" *ngIf="cityWeather">
      <!-- Individual day forecast information template shown as a column. -->
      <div *ngFor="let forecastDay of cityWeather" class="slice" [ngClass]="[forecastDay.stateName, forecastDay.periodName]" (mouseleave)="sliceBackToDisplay($event, forecastDay)">
        <!-- All possible svg images of sky state ready to use (show). -->
        <div class="wstate-wrap">
          <svg class="wstate wstate--sunny">
            <use xlink:href="#state-sunny"></use>
          </svg>
          <svg class="wstate wstate--cloudy">
            <use xlink:href="#state-cloudy"></use>
          </svg><svg class="wstate wstate--partlycloudy">
            <use xlink:href="#state-partlycloudy"></use>
          </svg>
          <svg class="wstate wstate--rain">
            <use xlink:href="#state-rain"></use>
          </svg>
          <svg class="wstate wstate--thunders">
            <use xlink:href="#state-thunders"></use>
          </svg>
          <svg class="wstate wstate--clearnight">
            <use xlink:href="#state-clearnight"></use>
          </svg>
          <svg class="wstate wstate--partlycloudynight">
            <use xlink:href="#state-partlycloudynight"></use>
          </svg>
        </div>

        <!-- Time interval of the day template. -->
        <span class="slice__data slice__data--period" [ngClass]="forecastDay.periodHidden">
          <svg class="icon icon--clock">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-clock"></use>
          </svg>
          <span class="slice__data slice__data--time">{{forecastDay.periodTime}}</span>
        </span>
        <!-- Date information template. -->
        <span class="slice__data slice__data--dateday">
          <span class="slice__data slice__data--day">{{forecastDay.day}}</span>
          <span class="slice__data slice__data--date">{{forecastDay.date}}</span>
        </span>
        <!-- <small>{{forecastDay.weather.description}}</small> -->
        <!-- Rest of the parameters templates. -->
        <span class="slice__data slice__data--air">
          <svg class="icon icon--thermometer">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-thermometer"></use>
          </svg>
          <span *ngIf="forecastDay.airTemp.length" class="slice__data slice__data--temperature">{{forecastDay.airTemp[1]}} {{forecastDay.units.temperature}}
            <span class="slice__data--air__mintemp">{{forecastDay.airTemp[0]}} {{forecastDay.units.temperature}}</span>
          </span>
          <span *ngIf="!forecastDay.airTemp.length" class="slice__data slice__data--temperature">{{forecastDay.airTemp}} {{forecastDay.units.temperature}}</span>
        </span>
        <span class="slice__data slice__data--rain">
          <svg class="icon icon--drop">
            <use xlink:href="#icon-drop"></use>
          </svg><span class="slice__data slice__data--rain">{{forecastDay.rainProb}} {{forecastDay.units.percentage}}</span>
        </span>
        <span class="slice__data slice__data--wind">
          <svg class="icon icon--direction" [ngStyle]="{'transform': 'rotate(' + forecastDay.windDirectionDeg + 'deg)', '-webkit-transform': 'rotate(' + forecastDay.windDirectionDeg + 'deg)', '-ms-transform': 'rotate(' + forecastDay.windDirectionDeg + 'deg)'}">
            <use xlink:href="#icon-direction"></use>
          </svg><span class="slice__data slice__data--wind-speed">{{forecastDay.windSpeedNum}} {{forecastDay.units.speed}}</span>
        </span>
        <!-- <span class="slice__data slice__data--rain">
          <svg class="icon icon--drop">
            <use xlink:href="#icon-drop"></use>
          </svg><span class="slice__data slice__data--rain">{{forecastDay.rainProb}} {{forecastDay.units.percentage}}</span>
        </span> -->
        <!-- <span class="slice__data slice__data--wind">
          <svg class="icon icon--direction" [ngStyle]="{'transform': 'rotate(' + forecastDay.windDirectionDeg + 'deg)', '-webkit-transform': 'rotate(' + forecastDay.windDirectionDeg + 'deg)', '-ms-transform': 'rotate(' + forecastDay.windDirectionDeg + 'deg)'}">
            <use xlink:href="#icon-direction"></use>
          </svg><span class="slice__data slice__data--wind-speed">{{forecastDay.windSpeedNum}} {{forecastDay.units.speed}}</span>
        </span> -->

        <!-- <span class="slice__data slice__data--water">
          <svg class="icon icon--thermometer"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-thermometer"></use></svg>
          <span class="slice__data slice__data--temperature">
            <span class="slice__data--air__mintemp">{{forecastDay.min_temp}} {{forecastDay.units.temperature}}</span>
            /
            {{forecastDay.max_temp}} {{forecastDay.units.temperature}}
          </span>
        </span> -->

        <div class="slice__hover">
          <div *ngFor="let interval of getNumberOfIntervals(forecastDay.timeInterval); let i = index" (mouseenter)="updateSlice($event, forecastDay, i)" [ngClass]="forecastDay.timeIntervalName"></div>
        </div>

      </div>
    </div>

  </div>

</main>
